<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="text/javascript" src="/js/scripts.js"></script>
    <link rel="icon" href="/rsc/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="/css/searchContactStyle.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <title>Contact Management</title>
</head>

<body>
    <div class="container-lg" id="main">
        
        <div class="row" id="home">
            <div class="col-3" id="items">
                <h2>Contacts List</h2>
                <hr style="border-top: dotted 1px;">
				<div class="text-center">
					<form id="searchForm" th:action="@{/search}" method="get">
						<input type="text" placeholder="Search.." id="searchInput"
							name="query">
							<input type="submit" style="display: none">
					</form>
				</div>
				<hr>
				<div id="table">
					<table th:if="${contacts != null and queryresult == null}">
						<tr th:each="contact : ${contacts}">
							<td id="logo"><i class="bi bi-person-lines-fill"></i></td>
							<td><a th:href="@{/home(contactId=${contact.id})}"><b
									th:text="${contact.last_name}"></b> <b
									th:text="${contact.first_name}"></b><br> <span
									th:text="${contact.phone1}"></span></a></td>
						</tr>
					</table>
					<table th:if="${queryresult != null}">
						<tr th:each="contact : ${queryresult}">
							<td id="logo"><i class="bi bi-person-lines-fill"></i></td>
							<td><a th:href="@{/home(contactId=${contact.id})}"><b
									th:text="${contact.last_name}"></b> <b
									th:text="${contact.first_name}"></b><br> <span
									th:text="${contact.phone1}"></span></a></td>
						</tr>
					</table>
					<div class="text-center mt-5"
						th:if="${(contacts == null or contacts.size() == 0) and queryresult == null}">
						<p>No contacts to show yet!</p>
					</div>
				</div>
                
            </div>
            <div class="col-9">
                <div class="row mt-2">
					<div class="col-10">
						<h4 id="current-time"></h4>
					</div>
					<div class="col-2">
						<a href="/logout" class="btn" id="logout"> Logout <b><i
								class="bi bi-box-arrow-right"></i></b></a>
					</div>

				</div>
                <div class="nav-justified" id="nav">
                    <a href="/home">Home</a>
                    <a href="/add" >Add Contact</a>
                    <a href="/update">Update Contact</a>
                    <a href="/delete">Delete Contact</a>
                    <a href="/search" id="add">Search Contact</a>
                    <a href="/group">Groups</a>
                </div> 
                <div class="add-contact">

                </div>
            </div>
        </div>
    </div>
    
</body>


</html>